module Std

-- This is currenly just a marker interface. In the future, id
-- might contain the logic for giving objects ids.
read trait Id
end

-- Equivalence is currently only supported on a given type. In
-- the future, other solutions are planned, possibly including a
-- self type instead of this type parameter.
read trait Eq[self]
  require def eq(other:self) : bool
end

-- A trait for comparable objects.
-- Result: 0 is equal, 1 is this is greater, -1 other is greater
read trait Ord[self]
  require def compare(other:self) : int
end

-- the identity function
fun id[a](x : a) : a
  x
end

-- This function should ultimately not be exposed at the surface level
fun atomicStart[a](x : a) : unit
  -- Here you can write C coode that sends the proper START message to x
  println("{} enters an atomic block")
end

-- This function should ultimately not be exposed at the surface level
fun atomicStop[a](x : a) : unit
  -- Here you can write C coode that sends the proper STOP message to x
  println("{} exits an atomic block -- not this is printed synchronously so will likely arrive out of order")
end
